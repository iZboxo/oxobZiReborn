"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.confirm=confirm;var _discord=require("discord.js");var _customId=require("./customId");async function confirm(ctx,options={}){const id=(0,_customId.customId)("confirm",ctx.userId);const button=new _discord.MessageButton().setCustomId(id).setLabel("Confirm").setStyle("DANGER");if(typeof options.button?.label==="string")button.setLabel(options.button.label);if(typeof options.button?.style==="string")button.setStyle(options.button.style);if(typeof options.button?.emoji==="string")button.setEmoji(options.button.emoji);const row=new _discord.MessageActionRow().addComponents([button]);const messageContent={content:typeof options.message==="function"?options.message(ctx):options.message||"Are you sure?",components:[row],ephemeral:options.ephemeral};ctx.deferred?await ctx.editReply(messageContent):await ctx.reply(messageContent);const filter=interaction=>{return interaction.customId===id&&interaction.user.id===ctx.userId};const result=await ctx.channel.awaitMessageComponent({filter,time:options.time||10000,componentType:"BUTTON"}).catch(()=>{return undefined});if(result instanceof _discord.ButtonInteraction)result.deferUpdate();return result!==undefined}