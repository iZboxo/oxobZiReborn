"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KeyvProvider=void 0;var _jsLogger=_interopRequireDefault(require("js-logger"));var _keyv=_interopRequireDefault(require("keyv"));var _Provider=require("../lib/structures/Provider");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}class KeyvProvider extends _Provider.Provider{constructor(uri,opts){super();this.uri=uri;this.opts=opts;this.type="keyv";this.client=null}async init(){this.client=new _keyv.default(this.uri,this.opts);_jsLogger.default.debug("Keyv initializated!");this.emit("connected",this.client);return}async insert(key,value,ttl){const data=await this.update(key,value,ttl);return data}async get(key){const data=await this.client.get(key);return data}async update(key,value,ttl){const data=await this.client.set(key,value,ttl);return data}async delete(key){const data=await this.client.delete(key);return data}clear(){return this.client.clear()}}exports.KeyvProvider=KeyvProvider;